@page "/Schedule"
@model LLiveArenaWeb.Pages.ScheduleModel
@{
    ViewData["Title"] = "Schedule";
}

<section class="section">
    <div class="section-header" style="align-items: flex-start; flex-direction: column; justify-content: flex-start;">
        <h1>Schedule</h1>
        <p style="margin-top: 0.5rem; color: var(--muted);">
            Upcoming matches from All‑Sport‑Live with available streams.
        </p>
    </div>

    @if (!Model.PrematchByDate.Any())
    {
        <div style="padding: 3rem; text-align: center; background: var(--surface-strong); border-radius: 12px; border: 1px solid var(--border); margin-top: 2rem;">
            <p style="color: var(--muted); font-size: 1.05rem;">No upcoming matches available right now.</p>
        </div>
    }
    else
    {
        <div class="schedule-layout">
            <div class="schedule-table">
                @foreach (var dayGroup in Model.PrematchByDate)
                {
                    var date = dayGroup.Key;
                    var matches = dayGroup.Value;

                    <div class="schedule-day">
                        <div class="schedule-day-header">
                            <span class="schedule-day-label">@date.ToString("dd MMMM")</span>
                        </div>

                        <div class="schedule-day-body">
                            @foreach (var match in matches)
                            {
                                var time = ScheduleModel.GetTime(match);
                                var competition = match.Cname;
                                var home = ScheduleModel.GetHomeTeam(match);
                                var away = ScheduleModel.GetAwayTeam(match);

                                <div class="schedule-row">
                                    <div class="schedule-cell schedule-time">
                                        <span class="schedule-time-icon">⚽</span>
                                        <span class="schedule-time-text">@time</span>
                                    </div>
                                    <div class="schedule-cell schedule-competition">
                                        <span>@competition</span>
                                    </div>
                                    <div class="schedule-cell schedule-teams">
                                        <span class="schedule-team schedule-team-home">@home</span>
                                        <span class="schedule-vs">–</span>
                                        <span class="schedule-team schedule-team-away">@away</span>
                                    </div>
                                    <div class="schedule-cell schedule-provider">
                                        <span class="schedule-provider-tag">All‑Sport‑Live</span>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</section>

